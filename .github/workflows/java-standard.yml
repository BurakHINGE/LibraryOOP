name: Java CI (Standard)

on:
  push:
    branches: ["main"]
  pull_request:
    branches: ["main"]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: Setup JDK
      uses: actions/setup-java@v4
      with:
        distribution: temurin
        java-version: "17"

    - name: Create lib directory
      run: mkdir -p lib

    - name: Download Gson
      run: |
        curl -L -o lib/gson.jar \
        https://repo1.maven.org/maven2/com/google/code/gson/gson/2.10.1/gson-2.10.1.jar

    - name: Compile
      run: |
        find . -name "*.java" > sources.txt
        javac -cp ".:lib/gson.jar" @sources.txt

    - name: Run Basic Static Analysis
      run: |
        echo "Basic Java project check completed."
